<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8" />
  <title th:text="${movie.title}">Movie Detail</title>
  <link
          href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
          rel="stylesheet"
  />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet" />
  <style>
    body {
      background-color: #f8f9fa;
    }
    .movie-poster {
      max-width: 100%;
      border-radius: 10px;
      box-shadow: 0 4px 8px rgba(0,0,0,0.2);
    }
    .movie-info {
      padding: 20px;
    }
    .btn-favorite {
      font-size: 1.1rem;
    }
  </style>
</head>
<body>
<div class="container my-5">
  <a href="/" class="btn btn-outline-secondary mb-4">&larr; Back to Home</a>

  <div class="row bg-white rounded shadow p-4">
    <!-- Poster -->
    <div class="col-md-4 text-center mb-4 mb-md-0">
      <img
              th:src="@{https://image.tmdb.org/t/p/w400/{posterPath}(posterPath=${movie.posterPath})}"
              alt="Poster"
              class="movie-poster img-fluid"
      />
    </div>

    <div class="col-md-8 movie-info">
      <h1 th:text="${movie.title}" class="mb-3"></h1>

      <p class="text-muted fst-italic" th:text="'Release Date: ' + ${movie.releaseDate}"></p>
      <p class="text-muted fst-italic" th:text="'Rating: ' + ${movie.voteAverage}"></p>

      <h5>Description</h5>
      <p th:text="${movie.overview}"></p>

      <form th:action="@{/favorites/toggle/{id}(id=${movie.id})}" method="post" class="mt-4">
        <button type="submit" class="btn btn-primary btn-favorite">
          <i
                  th:classappend="${isFavorite} ? 'bi bi-heart-fill' : 'bi bi-heart'"
                  class="bi"
          ></i>
          <span th:text="${isFavorite} ? 'Remove from Favorites' : 'Add to Favorites'"></span>
        </button>
      </form>
    </div>
  </div>
</div>
</body>
</html>
